<!DOCTYPE html>
<html lang="id">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Laporan Keuangan - GENZET HOME</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" />
    <link href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.5.1/css/all.min.css" rel="stylesheet" />
    <link href="https://cdn.jsdelivr.net/npm/sweetalert2@11/dist/sweetalert2.min.css" rel="stylesheet" />
    <link href="/assets/css/styles.css" rel="stylesheet" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <link rel="stylesheet" href="https://cdn.datatables.net/1.13.6/css/jquery.dataTables.min.css" />
    <script src="https://code.jquery.com/jquery-3.7.0.min.js"></script>
    <script src="https://cdn.datatables.net/1.13.6/js/jquery.dataTables.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf-autotable/3.5.29/jspdf.plugin.autotable.min.js"></script>
    <link rel="icon" type="image/x-icon" href="https://raw.githubusercontent.com/genzethome/genzethome.github.io/refs/heads/main/assets/img/android-chrome-512x512.png">
  </head>
  <body>
    <my-navbar></my-navbar>
    <div class="container mb-5">
      <div class="mb-3 text-end">
        <button class="btn btn-secondary" id="refreshBtn">
          <i class="fa-solid fa-rotate-right"></i>
        </button>
      </div>
      <div class="row g-3 mb-4 text-center">
        <div class="col-md-3">
          <div class="p-3 border rounded bg-success text-white">
            <h6>Total Pemasukan</h6>
            <h5 id="totalPemasukan">Rp 0</h5>
          </div>
        </div>
        <div class="col-md-3">
          <div class="p-3 border rounded" style="background-color: #b22222; color: white;">
            <h6>Total Pengeluaran</h6>
            <h5 id="totalPengeluaran">Rp 0</h5>
          </div>
        </div>
        <div class="col-md-3">
          <div class="p-3 border rounded bg-warning text-dark">
            <h6>Total Assets</h6>
            <h5 id="totalAssets">Rp 0</h5>
          </div>
        </div>
        <div class="col-md-3">
          <div class="p-3 border rounded" style="background-color: #4682b4; color: white;">
            <h6>Saldo Akhir</h6>
            <h5 id="saldoAkhir">Rp 0</h5>
          </div>
        </div>
        <div class="col-md-3">
          <div class="p-3 border rounded bg-info text-dark">
            <h6>Total Pelanggan</h6>
            <h5 id="totalPelanggan">0</h5>
          </div>
        </div>
        <div class="col-md-3">
          <div class="p-3 border rounded" style="background-color: #005bac; color: white;">
            <h6>Penghasilan Tetap</h6>
            <h5 id="penghasilanPelanggan">Rp 0</h5>
          </div>
        </div>
        <div class="col-md-3">
          <div class="p-3 border rounded" style="background-color: #6f42c1; color: white;">
            <h6>Mbps Tersebar</h6>
            <h5 id="totalMbps">0 Mbps</h5>
          </div>
        </div>
      </div>
      <div class="card mb-4">
        <div class="card-header bg-success text-white">
          <i class="fa-solid fa-chart-bar"></i> Perbandingan
        </div>
        <div class="card-body">
          <div class="mb-2">
            <small>Pemasukan</small>
          </div>
          <div class="progress mb-3">
            <div id="progressPemasukan" class="progress-bar bg-success" style="width: 0%;"></div>
          </div>
          <div class="mb-2">
            <small>Pengeluaran</small>
          </div>
          <div class="progress mb-3">
            <div id="progressPengeluaran" class="progress-bar bg-danger" style="width: 0%;"></div>
          </div>
          <div class="mb-2">
            <small>Assets</small>
          </div>
          <div class="progress mb-3">
            <div id="progressAssets" class="progress-bar bg-warning" style="width: 0%;"></div>
          </div>
          <div class="mb-2">
            <small>Saldo</small>
          </div>
          <div class="progress">
            <div id="progressSaldo" class="progress-bar" style="background-color: #4682b4; width: 0%;"></div>
          </div>
        </div>
      </div>
      <div class="card mb-4">
        <div class="card-header bg-success text-white">
          <i class="fa-solid fa-chart-simple"></i> Performa
        </div>
        <div class="card-body p-0">
          <div class="table-responsive">
            <table class="table table-striped mb-0 text-nowrap" id="kinerjaTable">
              <thead class="table-light align-middle text-center">
                <tr>
                  <th>No</th>
                  <th>Nama</th>
                  <th>Absensi</th>
                  <th>Modal</th>
                  <th>Power (%)</th>
                </tr>
              </thead>
              <tbody id="kinerjaBody"></tbody>
            </table>
          </div>
        </div>
      </div>
      <div class="card mb-4">
        <div class="card-header bg-success text-white">
          <i class="fa-solid fa-chart-simple"></i> Penanaman Modal
        </div>
        <div class="card-body">
          <div class="row">
            <div class="col-md-6 mb-4">
              <div style="height: 300px;">
                <canvas id="barChart"></canvas>
              </div>
            </div>
            <div class="col-md-6 mb-4">
              <div style="height: 300px;">
                <canvas id="pieChart"></canvas>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="card mb-4">
        <div class="card-header bg-success text-white" style="cursor:pointer;" data-bs-toggle="tooltip" 
     data-bs-placement="top" 
     title="Tekan untuk membuka Google Earth" onclick="window.open('https://earth.google.com/earth/d/1kLT0a7TCfYrv-K6jPxBXEHa1DDSO-58m?usp=sharing', '_blank')">
          <i class="fa-solid fa-earth"></i> Topology
        </div>
        <div class="card-body">
          <!-- Container responsive -->
<div class="map-responsive" style="position: relative; width: 100%; padding-bottom: 56.25%;">
  <iframe 
    src="https://www.google.com/maps/d/u/0/embed?mid=1t7yZT4vgXimAwjYwZzfrVr8Ar89ei0Y&ehbc=2E312F" 
    style="position: absolute; top:0; left:0; width:100%; height:100%; border:0;" 
    allowfullscreen>
  </iframe>
</div>

        </div>
      </div>
      <div class="card mb-4">
        <div class="card-header bg-success text-white">
          <i class="fas fa-cloud-sun"></i> Cuaca Citra Mulya Raya
        </div>
        <div class="card-body">
          <table class="table table-borderless" id="cuaca">
            <colgroup>
              <col style="width: 30px;">
              <col style="width: 140px;">
              <col style="width: 10px;">
              <col style="width: auto;">
            </colgroup>
            <tbody id="weather">
              <!-- Data cuaca inject disini -->
            </tbody>
          </table>
        </div>
      </div>
      <!-- âœ… Card HEADER & container -->
      <div class="card mb-4">
        <div class="card-header bg-success text-white">
          <i class="fas fa-tasks"></i> Jadwal Jatuh Tempo
        </div>
        <div class="card-body">
          <!-- Card isi akan di-render di sini -->
          <div class="timeline-wrapper">
            <div id="timeline"></div>
          </div>
        </div>
      </div>
    </div>
    <!-- Tambahkan Chart.js CDN jika belum ada -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
    <!-- jQuery (HARUS sebelum DataTables) -->
     <script>
      var tooltipTriggerList = [].slice.call(document.querySelectorAll('[data-bs-toggle="tooltip"]'))
  var tooltipList = tooltipTriggerList.map(function (tooltipTriggerEl) {
    return new bootstrap.Tooltip(tooltipTriggerEl)
  })
    </script>
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
    <script src="https://cdn.datatables.net/1.13.6/js/jquery.dataTables.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script type="module" src="/assets/js/timeline.js"></script>
    <script type="module" src="/assets/js/weather.js"></script>
    <script type="module" src="/assets/js/laporan.js"></script>
    <script type="module" src="/assets/js/navbar.js"></script>
    <script type="module" src="assets/js/kinerja.js"></script>
    <script type="module" src="/assets/js/chart.js"></script>
  </body>
</html>

